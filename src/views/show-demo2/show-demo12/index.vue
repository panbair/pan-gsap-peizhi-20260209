<template>
  <div class="website-container">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
      <div class="nav-logo">NexusSpace</div>
      <div class="nav-links">
        <a href="javascript:void(0)" class="nav-link" @click="jumpToDimension(0)">ç»´åº¦ä¸€</a>
        <a href="javascript:void(0)" class="nav-link" @click="jumpToDimension(1)">ç»´åº¦äºŒ</a>
        <a href="javascript:void(0)" class="nav-link" @click="jumpToDimension(2)">ç»´åº¦ä¸‰</a>
        <a href="javascript:void(0)" class="nav-link" @click="jumpToDimension(3)">ç»´åº¦å››</a>
        <a href="javascript:void(0)" class="nav-link" @click="jumpToDimension(4)">ç»´åº¦äº”</a>
      </div>
      <button class="nav-button">æ¢ç´¢</button>
    </nav>

    <!-- å¤šç»´å±‚å®¹å™¨ -->
    <div class="multiverse-container">
      <!-- ç»´åº¦ä¸€: é¦–é¡µ -->
      <section id="home" class="section hero-section dimensional-panel" data-dimension="0">
        <div class="dimension-bg bg-1"></div>
        <div class="hero-content">
          <div class="hero-badge">
            <span class="badge-icon">ğŸŒ€</span>
            <span class="badge-text">ç»´åº¦ä¸€ Â· ç°å®ä¸–ç•Œ</span>
          </div>
          <h1 class="hero-title">
            <span class="title-line">è·¨è¶Šç»´åº¦</span>
            <span class="title-line">æ¢ç´¢æ— é™å¯èƒ½</span>
          </h1>
          <p class="hero-subtitle">
            æ¬¢è¿æ¥åˆ°å¤šç»´æ—¶ç©ºç©¿æ¢­ç³»ç»Ÿ<br/>
            åœ¨è¿™é‡Œï¼Œæ¯ä¸ªç»´åº¦éƒ½æœ‰ç‹¬ç‰¹çš„æ—¶ç©ºè§„åˆ™å’Œè§†è§‰ä½“éªŒ
          </p>
          <div class="hero-stats">
            <div class="hero-stat">
              <span class="hero-stat-number">5</span>
              <span class="hero-stat-label">ç»´åº¦</span>
            </div>
            <div class="hero-stat-divider"></div>
            <div class="hero-stat">
              <span class="hero-stat-number">âˆ</span>
              <span class="hero-stat-label">å¯èƒ½</span>
            </div>
            <div class="hero-stat-divider"></div>
            <div class="hero-stat">
              <span class="hero-stat-number">360Â°</span>
              <span class="hero-stat-label">ç©¿æ¢­</span>
            </div>
          </div>
          <div class="hero-buttons">
            <button class="hero-btn primary" @click="nextDimension">è¿›å…¥ä¸‹ä¸€ç»´åº¦</button>
            <button class="hero-btn secondary">
              <span class="btn-icon">ğŸ®</span>
              å¼€å§‹æ¼«æ¸¸
            </button>
          </div>
          <div class="hero-features">
            <div class="feature-item">
              <span class="feature-icon">ğŸŒ</span>
              <span class="feature-text">æ— é™å¾ªç¯</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">ğŸ”®</span>
              <span class="feature-text">æ—¶ç©ºç¼©æ”¾</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">ğŸš€</span>
              <span class="feature-text">ç»´åº¦è·³è·ƒ</span>
            </div>
          </div>
        </div>
        <div class="dimension-decoration deco-1">
          <div class="orbit orbit-1"></div>
          <div class="orbit orbit-2"></div>
          <div class="orbit orbit-3"></div>
          <div class="dimension-core"></div>
        </div>
      </section>

      <!-- ç»´åº¦äºŒ: å…³äº -->
      <section id="about" class="section about-section dimensional-panel" data-dimension="1">
        <div class="dimension-bg bg-2"></div>
        <div class="container">
          <div class="about-content">
            <div class="about-text">
              <h2 class="section-title">ç»´åº¦äºŒ Â· æ•°å­—ç©ºé—´</h2>
              <p class="section-subtitle">åœ¨æ•°æ®æ„æˆçš„è™šæ‹Ÿä¸–ç•Œä¸­ï¼Œä¿¡æ¯å³èƒ½é‡</p>
              <p class="about-description">
                NexusSpace æ˜¯ä¸€ä¸ªçªç ´æ€§çš„å¤šç»´æ—¶ç©ºæ¢ç´¢å¹³å°ã€‚åœ¨è¿™é‡Œï¼Œä¼ ç»Ÿçš„ç½‘é¡µæµè§ˆä½“éªŒè¢«é‡æ–°å®šä¹‰ã€‚
                é€šè¿‡åˆ›æ–°çš„ç©¿æ¢­ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸åŒç»´åº¦ä¹‹é—´è‡ªç”±åˆ‡æ¢ï¼Œæ¯ä¸ªç»´åº¦éƒ½å‘ˆç°å‡ºç‹¬ç‰¹çš„è§†è§‰é£æ ¼å’Œäº¤äº’æ–¹å¼ã€‚
              </p>
              <p class="about-description">
                æˆ‘ä»¬çš„å¼•æ“èåˆäº†æ— é™å¾ªç¯ã€ç©ºé—´ç¼©æ”¾å’Œå¤šç»´åº¦å˜æ¢æŠ€æœ¯ï¼Œåˆ›é€ å‡ºå‰æ‰€æœªæœ‰çš„æ²‰æµ¸å¼ä½“éªŒã€‚
              </p>
              <div class="about-advantages">
                <div class="advantage-item">
                  <div class="advantage-icon">
                    <span class="adv-emoji">ğŸ”·</span>
                  </div>
                  <h4 class="advantage-title">ç»´åº¦æŠ˜å </h4>
                  <p class="advantage-desc">å°†ç©ºé—´å‹ç¼©ï¼Œå®ç°ç¬é—´è·³è·ƒ</p>
                </div>
                <div class="advantage-item">
                  <div class="advantage-icon">
                    <span class="adv-emoji">âš¡</span>
                  </div>
                  <h4 class="advantage-title">æ—¶ç©ºç¼©æ”¾</h4>
                  <p class="advantage-desc">è‡ªç”±æ§åˆ¶ç©ºé—´å°ºåº¦å’Œæ—¶é—´æµé€Ÿ</p>
                </div>
                <div class="advantage-item">
                  <div class="advantage-icon">
                    <span class="adv-emoji">ğŸŒŒ</span>
                  </div>
                  <h4 class="advantage-title">æ— é™å¾ªç¯</h4>
                  <p class="advantage-desc">çªç ´è¾¹ç•Œï¼Œæ°¸æ’æŒç»­çš„æ¢ç´¢ä¹‹æ—…</p>
                </div>
                <div class="advantage-item">
                  <div class="advantage-icon">
                    <span class="adv-emoji">ğŸ­</span>
                  </div>
                  <h4 class="advantage-title">å½¢æ€å˜æ¢</h4>
                  <p class="advantage-desc">åŠ¨æ€é€‚åº”çš„ç•Œé¢ï¼Œéšå¿ƒè€ŒåŠ¨</p>
                </div>
              </div>
              <div class="about-stats">
                <div class="stat-item">
                  <span class="stat-number" data-target="5">0</span>
                  <span class="stat-label">ä¸ª</span>
                  <p class="stat-name">ç‹¬ç«‹ç»´åº¦</p>
                </div>
                <div class="stat-item">
                  <span class="stat-number" data-target="100">0</span>
                  <span class="stat-label">%</span>
                  <p class="stat-name">æ²‰æµ¸ä½“éªŒ</p>
                </div>
                <div class="stat-item">
                  <span class="stat-number" data-target="0">0</span>
                  <span class="stat-label">å»¶è¿Ÿ</span>
                  <p class="stat-name">å“åº”é€Ÿåº¦</p>
                </div>
                <div class="stat-item">
                  <span class="stat-number" data-target="âˆ">0</span>
                  <span class="stat-label">å¾ªç¯</span>
                  <p class="stat-name">æ¢ç´¢å¯èƒ½</p>
                </div>
              </div>
            </div>
            <div class="about-image">
              <div class="image-wrapper">
                <div class="data-cube cube-1">
                  <div class="cube-face front">DATA</div>
                  <div class="cube-face back">FUTURE</div>
                  <div class="cube-face right">NEXUS</div>
                  <div class="cube-face left">SPACE</div>
                  <div class="cube-face top">TIME</div>
                  <div class="cube-face bottom">REALITY</div>
                </div>
                <div class="data-stream stream-1"></div>
                <div class="data-stream stream-2"></div>
                <div class="data-stream stream-3"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ç»´åº¦ä¸‰: æœåŠ¡ -->
      <section id="services" class="section services-section dimensional-panel" data-dimension="2">
        <div class="dimension-bg bg-3"></div>
        <div class="container">
          <h2 class="section-title">ç»´åº¦ä¸‰ Â· èƒ½é‡çŸ©é˜µ</h2>
          <p class="section-subtitle">åœ¨ä¸åŒç»´åº¦ä¹‹é—´ï¼Œèƒ½é‡ä»¥ä¸åŒå½¢å¼å‘ˆç°</p>
          <div class="services-grid">
            <div class="service-card matrix-card">
              <div class="matrix-effect"></div>
              <div class="service-icon icon-1"></div>
              <h3 class="service-title">ç»´åº¦ç©¿æ¢­å¼•æ“</h3>
              <p class="service-desc">
                æ ¸å¿ƒå¼•æ“ï¼Œè´Ÿè´£åœ¨ä¸åŒç»´åº¦ä¹‹é—´å¹³æ»‘è¿‡æ¸¡ï¼Œç¡®ä¿ç”¨æˆ·çš„æ²‰æµ¸å¼ä½“éªŒä¸è¢«æ‰“æ–­ã€‚
              </p>
              <ul class="service-features">
                <li>æ— é™å¾ªç¯æ”¯æŒ</li>
                <li>ç©ºé—´ç¼©æ”¾æ§åˆ¶</li>
                <li>å¤šç»´åº¦å˜æ¢</li>
                <li>å¹³æ»‘è¿‡æ¸¡æ•ˆæœ</li>
              </ul>
              <a href="#" class="service-link">æ¢ç´¢è¯¦æƒ… â†’</a>
            </div>
            <div class="service-card matrix-card">
              <div class="matrix-effect"></div>
              <div class="service-icon icon-2"></div>
              <h3 class="service-title">æ—¶ç©ºç¼©æ”¾ç³»ç»Ÿ</h3>
              <p class="service-desc">
                å…è®¸ç”¨æˆ·åœ¨ä¸åŒå°ºåº¦ä¸‹è§‚å¯Ÿå†…å®¹ï¼Œä»å®è§‚åˆ°å¾®è§‚ï¼Œè‡ªç”±æ§åˆ¶è§‚å¯Ÿè§†è§’ã€‚
              </p>
              <ul class="service-features">
                <li>åŠ¨æ€ç¼©æ”¾</li>
                <li>é€è§†å˜åŒ–</li>
                <li>å¹³æ»‘è¿‡æ¸¡</li>
                <li>è¾¹ç•Œä¿æŠ¤</li>
              </ul>
              <a href="#" class="service-link">æ¢ç´¢è¯¦æƒ… â†’</a>
            </div>
            <div class="service-card matrix-card">
              <div class="matrix-effect"></div>
              <div class="service-icon icon-3"></div>
              <h3 class="service-title">èƒ½é‡åœºæ¸²æŸ“</h3>
              <p class="service-desc">
                ä¸ºæ¯ä¸ªç»´åº¦åˆ›å»ºç‹¬ç‰¹çš„è§†è§‰æ°›å›´ï¼Œé€šè¿‡ç²’å­ã€å…‰æ™•å’ŒåŠ¨æ€æ•ˆæœè¥é€ æ²‰æµ¸æ„Ÿã€‚
              </p>
              <ul class="service-features">
                <li>ç²’å­ç³»ç»Ÿ</li>
                <li>å…‰æ™•æ•ˆæœ</li>
                <li>åŠ¨æ€èƒŒæ™¯</li>
                <li>ç©ºé—´æ„ŸçŸ¥</li>
              </ul>
              <a href="#" class="service-link">æ¢ç´¢è¯¦æƒ… â†’</a>
            </div>
          </div>
        </div>
      </section>

      <!-- ç»´åº¦å››: æ¡ˆä¾‹ -->
      <section id="portfolio" class="section portfolio-section dimensional-panel" data-dimension="3">
        <div class="dimension-bg bg-4"></div>
        <div class="container">
          <h2 class="section-title">ç»´åº¦å›› Â· åˆ›é€ é¢†åŸŸ</h2>
          <p class="section-subtitle">æ— æ•°ä¸ªå¯èƒ½çš„å¹³è¡Œä¸–ç•Œä¸­ï¼Œæ¯ä¸ªéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ä½œå“</p>
          <div class="portfolio-grid">
            <div class="portfolio-item hologram-card">
              <div class="hologram-effect"></div>
              <div class="portfolio-overlay">
                <div class="portfolio-tag">ç»´åº¦A</div>
                <h3 class="portfolio-title">æ•°å­—å­ªç”Ÿç³»ç»Ÿ</h3>
                <p class="portfolio-desc">
                  ä¸ºå·¥ä¸š4.0æ‰“é€ çš„æ•°å­—å­ªç”Ÿå¹³å°ï¼Œå®æ—¶æ˜ å°„ç‰©ç†ä¸–ç•Œçš„æ¯ä¸€ä¸ªç»†èŠ‚ã€‚
                </p>
                <div class="portfolio-meta">
                  <span class="meta-tag">å®æ—¶åŒæ­¥</span>
                  <span class="meta-tag">AIé¢„æµ‹</span>
                  <span class="meta-tag">3Då¯è§†åŒ–</span>
                </div>
                <button class="portfolio-btn">è¿›å…¥è¿™ä¸ªç»´åº¦</button>
              </div>
            </div>
            <div class="portfolio-item hologram-card">
              <div class="hologram-effect"></div>
              <div class="portfolio-overlay">
                <div class="portfolio-tag">ç»´åº¦B</div>
                <h3 class="portfolio-title">å…ƒå®‡å®™å…¥å£</h3>
                <p class="portfolio-desc">
                  è¿æ¥ç°å®ä¸è™šæ‹Ÿçš„æ¡¥æ¢ï¼Œä¸ºç”¨æˆ·æä¾›æ²‰æµ¸å¼çš„å…ƒå®‡å®™ä½“éªŒã€‚
                </p>
                <div class="portfolio-meta">
                  <span class="meta-tag">VR/AR</span>
                  <span class="meta-tag">ç¤¾äº¤</span>
                  <span class="meta-tag">ç»æµç³»ç»Ÿ</span>
                </div>
                <button class="portfolio-btn">è¿›å…¥è¿™ä¸ªç»´åº¦</button>
              </div>
            </div>
            <div class="portfolio-item hologram-card">
              <div class="hologram-effect"></div>
              <div class="portfolio-overlay">
                <div class="portfolio-tag">ç»´åº¦C</div>
                <h3 class="portfolio-title">AI æ„è¯†ç½‘ç»œ</h3>
                <p class="portfolio-desc">
                  æ„å»ºäººæœºåä½œçš„æœªæ¥ï¼Œè®©AIæˆä¸ºçœŸæ­£çš„æ™ºèƒ½ä¼™ä¼´ã€‚
                </p>
                <div class="portfolio-meta">
                  <span class="meta-tag">ç¥ç»ç½‘ç»œ</span>
                  <span class="meta-tag">è‡ªç„¶è¯­è¨€</span>
                  <span class="meta-tag">æƒ…æ„Ÿè®¡ç®—</span>
                </div>
                <button class="portfolio-btn">è¿›å…¥è¿™ä¸ªç»´åº¦</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ç»´åº¦äº”: è”ç³» -->
      <section id="contact" class="section contact-section dimensional-panel" data-dimension="4">
        <div class="dimension-bg bg-5"></div>
        <div class="container">
          <h2 class="section-title">ç»´åº¦äº” Â· è¿æ¥ç‚¹</h2>
          <p class="section-subtitle">æ‰€æœ‰ç»´åº¦çš„äº¤æ±‡ç‚¹ï¼Œå¼€å¯æ–°çš„æ¢ç´¢ä¹‹æ—…</p>
          <div class="contact-content">
            <div class="contact-info">
              <div class="info-item warp-card">
                <div class="warp-effect"></div>
                <div class="info-icon icon-location">ğŸ“</div>
                <div class="info-text">
                  <h4>ç°å®åæ ‡</h4>
                  <p>åŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åˆ›æ–°å¤§å¦Aåº§12å±‚</p>
                  <p class="info-sub">ç»´åº¦: Earth-2026 | åæ ‡: 116.40Â°E, 39.90Â°N</p>
                </div>
              </div>
              <div class="info-item warp-card">
                <div class="warp-effect"></div>
                <div class="info-icon icon-phone">ğŸ“¡</div>
                <div class="info-text">
                  <h4>é‡å­é€šè®¯</h4>
                  <p>400-888-8888ï¼ˆå…¨ç»´åº¦å…è´¹çƒ­çº¿ï¼‰</p>
                  <p class="info-sub">é¢‘ç‡: Quantum-Band | å»¶è¿Ÿ: 0ms</p>
                </div>
              </div>
              <div class="info-item warp-card">
                <div class="warp-effect"></div>
                <div class="info-icon icon-email">âœ‰ï¸</div>
                <div class="info-text">
                  <h4>æ•°å­—ä¿¡ä½¿</h4>
                  <p>contact@nexusspace.io</p>
                  <p class="info-sub">åè®®: Quantum-Mail | å®‰å…¨ç­‰çº§: MAX</p>
                </div>
              </div>
              <div class="info-item warp-card">
                <div class="warp-effect"></div>
                <div class="info-icon icon-time">â°</div>
                <div class="info-text">
                  <h4>æ—¶ç©ºåŒæ­¥</h4>
                  <p>æ‰€æœ‰ç»´åº¦å…¨å¤©å€™æœåŠ¡</p>
                  <p class="info-sub">æ—¶åŒº: Universal Coordinate Time</p>
                </div>
              </div>
            </div>
            <div class="contact-form warp-form">
              <div class="form-header">
                <h3>å‘é€ç»´åº¦ä¿¡å·</h3>
                <p>å¡«å†™ä¸‹æ–¹è¡¨å•ï¼Œæˆ‘ä»¬å°†è·¨ç»´åº¦ä¸æ‚¨å»ºç«‹è¿æ¥</p>
              </div>
              <form>
                <input type="text" placeholder="æ‚¨çš„èº«ä»½æ ‡è¯† *" class="form-input" />
                <input type="email" placeholder="é‡å­é‚®ç®± *" class="form-input" />
                <input type="text" placeholder="æ‰€å±ç»´åº¦" class="form-input" />
                <select class="form-select">
                  <option value="">é€‰æ‹©ä¿¡å·ç±»å‹</option>
                  <option value="engine">ç»´åº¦ç©¿æ¢­</option>
                  <option value="matrix">èƒ½é‡çŸ©é˜µ</option>
                  <option value="reality">ç°å®æ˜ å°„</option>
                  <option value="portal">ä¼ é€é—¨</option>
                </select>
                <textarea placeholder="æ‚¨çš„ç»´åº¦æ¢ç´¢éœ€æ±‚ *" class="form-textarea"></textarea>
                <button type="submit" class="form-submit">
                  <span class="submit-icon">ğŸš€</span>
                  å¯åŠ¨ä¼ é€
                </button>
              </form>
            </div>
          </div>
          <div class="warp-portal">
            <div class="portal-ring ring-1"></div>
            <div class="portal-ring ring-2"></div>
            <div class="portal-ring ring-3"></div>
            <div class="portal-core"></div>
            <button class="portal-button" @click="jumpToFirstDimension">ä¼ é€è‡³ç¬¬ä¸€ç»´åº¦</button>
          </div>
        </div>
      </section>
    </div>

    <!-- ç»´åº¦æŒ‡ç¤ºå™¨ -->
    <div class="dimension-indicator">
      <div class="indicator-dots">
        <div :class="['dot', { active: currentDimension === 0 }]" @click="jumpToDimension(0)"></div>
        <div :class="['dot', { active: currentDimension === 1 }]" @click="jumpToDimension(1)"></div>
        <div :class="['dot', { active: currentDimension === 2 }]" @click="jumpToDimension(2)"></div>
        <div :class="['dot', { active: currentDimension === 3 }]" @click="jumpToDimension(3)"></div>
        <div :class="['dot', { active: currentDimension === 4 }]" @click="jumpToDimension(4)"></div>
      </div>
      <div class="indicator-label">
        <span class="current-dim">{{ dimensionNames[currentDimension] }}</span>
        <span class="slash">/</span>
        <span class="total-dim">5</span>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { onMounted, nextTick, ref } from 'vue'
import gsap from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'
import { ScrollToPlugin } from 'gsap/ScrollToPlugin'

gsap.registerPlugin(ScrollTrigger, ScrollToPlugin)


// é˜²æŠ–å‡½æ•°
const createDebouncedFn = (fn: Function, delay: number, id: string) => {
  let timer: any = null
  return (...args: any[]) => {
    if (timer) clearTimeout(timer)
    timer = setTimeout(() => fn(...args), delay)
  }
}

// æ¸…ç†æ‰€æœ‰åŠ¨ç”»
const killAllAnimation = ({ keepScrollPosition }: { keepScrollPosition?: boolean } = {}) => {
  const scrollPos = keepScrollPosition ? window.pageYOffset : 0
  gsap.killTweensOf('*')
  ScrollTrigger.getAll().forEach(st => st.kill())
  if (keepScrollPosition && scrollPos) {
    window.scrollTo(0, scrollPos)
  }
}

// å¤šç»´æ—¶ç©ºç©¿æ¢­åŠ¨ç”»ï¼ˆå…¨æ–°æ•ˆæœ - èåˆæ— é™å¾ªç¯+ç¼©æ”¾+æ¨ªå‘ï¼‰
let multiverseScrollTrigger: any = null
let multiverseTweens: any[] = []
let clonedPanelNode: any = null
let onScrollResize: any = null
let onWindowScroll: any = null
let maxScrollValue: number = 0
let warpTimeline: any = null
let particleTweens: any[] = []
let currentDimension = ref(0)
let mainScrollTrigger: any = null

// ç»´åº¦åç§°
const dimensionNames = ['ç»´åº¦ä¸€', 'ç»´åº¦äºŒ', 'ç»´åº¦ä¸‰', 'ç»´åº¦å››', 'ç»´åº¦äº”']

const multiverseAnimation = (className = 'dimensional-panel') => {
  ScrollTrigger.refresh()

  let panels: any[] = []
  let multiverseContainer: any = null

  const cleanup = () => {
    // ç§»é™¤äº‹ä»¶ç›‘å¬å™¨
    if (onScrollResize) {
      window.removeEventListener('resize', onScrollResize)
    }
    if (onWindowScroll) {
      window.removeEventListener('scroll', onWindowScroll, { passive: false } as any)
    }

    // æ¸…ç† ScrollTrigger
    multiverseScrollTrigger?.kill?.()
    multiverseScrollTrigger = null

    // æ¸…ç†æ‰€æœ‰ tweens
    multiverseTweens.forEach(tween => {
      try {
        if (tween) {
          tween.kill(true)
          if (tween.scrollTrigger) {
            tween.scrollTrigger.kill()
          }
        }
      } catch (e) {
        console.warn('æ¸…ç† tween å¤±è´¥:', e)
      }
    })
    multiverseTweens = []

    // æ¸…ç†ç²’å­ tweens
    particleTweens.forEach(tween => {
      try {
        if (tween) tween.kill(true)
      } catch (e) {
        console.warn('æ¸…ç†ç²’å­ tween å¤±è´¥:', e)
      }
    })
    particleTweens = []

    // æ¸…ç†æ—¶é—´è½´
    warpTimeline?.kill?.()
    warpTimeline = null

    // æ¸…ç†ä¸» ScrollTrigger
    mainScrollTrigger?.kill?.()
    mainScrollTrigger = null

    // ç§»é™¤å…‹éš†çš„èŠ‚ç‚¹
    if (clonedPanelNode && clonedPanelNode.parentNode) {
      clonedPanelNode.parentNode.removeChild(clonedPanelNode)
      clonedPanelNode = null
    }

    // æ¢å¤panelsæ ·å¼
    panels.forEach(panel => {
      try {
        panel.style.position = ''
        panel.style.transform = ''
        panel.style.zIndex = ''
        panel.style.width = ''
      } catch (e) {
        console.warn('æ¢å¤panelæ ·å¼å¤±è´¥:', e)
      }
    })

    killAllAnimation({ keepScrollPosition: true })
  }

  nextTick(() => {
    panels = gsap.utils.toArray(`.${className}`) || []
    if (panels.length <= 0) return

    multiverseContainer = document.querySelector('.multiverse-container')
    if (!multiverseContainer) return

    // æš‚æ—¶ä¸å…‹éš†èŠ‚ç‚¹ï¼Œå…ˆç¡®ä¿åŸºæœ¬æ»šåŠ¨åŠŸèƒ½æ­£å¸¸
    // å…‹éš†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå®ç°æ— é™å¾ªç¯ï¼‰
    // clonedPanelNode = panels[0].cloneNode(true)
    // clonedPanelNode.setAttribute('data-cloned', 'true')
    // clonedPanelNode.classList.add('cloned-panel')
    // panels[0].parentNode?.appendChild(clonedPanelNode)

    // è®¾ç½®å®¹å™¨æ ·å¼ - ä½¿ç”¨ flex æ¨ªå‘æ’åˆ—
    const containerStyle = {
      display: 'flex',
      width: '100%',
      height: '100vh'
    }

    Object.entries(containerStyle).forEach(([key, value]) => {
      multiverseContainer.style[key] = value
    })

    // è®¾ç½®é¢æ¿æ ·å¼ - flex å¸ƒå±€ï¼Œæ¯ä¸ªé¢æ¿å®½åº¦ 100vw
    panels.forEach((panel, index) => {
      panel.style.cssText = `
        width: 100vw;
        height: 100vh;
        flex-shrink: 0;
        overflow: hidden;
        transform-style: preserve-3d;
      `
    })

    // åˆ›å»ºç©¿æ¢­æ—¶é—´è½´
    warpTimeline = gsap.timeline()

    // ä¸ºæ¯ä¸ªpanelåˆ›å»ºç‹¬ç‰¹çš„è¿›å…¥/é€€å‡ºåŠ¨ç”»
    panels.forEach((panel, index) => {
      const dimension = parseInt(panel.getAttribute('data-dimension') || index.toString())
      // const isClone = panel.classList.contains('cloned-panel')

      // è·å–é¢æ¿å†…å…ƒç´ 
      const title = panel.querySelector('.section-title')
      const content = panel.querySelectorAll(
        '.service-card, .portfolio-item, .advantage-item, .info-item, .stat-item, .data-cube, .data-stream, .hero-content, .about-content, .contact-content'
      )

      // æ ¹æ®ç»´åº¦åˆ›å»ºä¸åŒçš„å˜æ¢æ•ˆæœ
      const transformEffects = [
        // ç»´åº¦0: ç¼©æ”¾ + æ·¡å…¥
        {
          from: { scale: 0.1, opacity: 0, rotationZ: 0 },
          to: { scale: 1, opacity: 1, rotationZ: 0 }
        },
        // ç»´åº¦1: æ—‹è½¬ + æ·¡å…¥
        {
          from: { scale: 0.5, opacity: 0, rotationZ: -180 },
          to: { scale: 1, opacity: 1, rotationZ: 0 }
        },
        // ç»´åº¦2: ç¿»è½¬ + ç¼©æ”¾
        {
          from: { scale: 0.3, opacity: 0, rotationY: 180 },
          to: { scale: 1, opacity: 1, rotationY: 0 }
        },
        // ç»´åº¦3: Xè½´æ—‹è½¬ + ç¼©æ”¾
        {
          from: { scale: 0.2, opacity: 0, rotationX: -90 },
          to: { scale: 1, opacity: 1, rotationX: 0 }
        },
        // ç»´åº¦4: ç»„åˆæ—‹è½¬ + ç¼©æ”¾
        {
          from: { scale: 0.1, opacity: 0, rotationX: 45, rotationY: 45, rotationZ: 45 },
          to: { scale: 1, opacity: 1, rotationX: 0, rotationY: 0, rotationZ: 0 }
        }
      ]

      const effect = transformEffects[dimension % 5]

      // æ ‡é¢˜åŠ¨ç”»
      if (title) {
        gsap.set(title, { ...effect.from, perspective: 2000 })

        const titleTween = gsap.to(title, {
          ...effect.to,
          duration: 1.2,
          ease: 'elastic.out(1, 0.8)',
          scrollTrigger: {
            trigger: panel,
            start: 'right left',
            end: 'left left',
            scrub: 1
          }
        })
        multiverseTweens.push(titleTween)
      }

      // å†…å®¹å…ƒç´ åŠ¨ç”» - æ³¢æµªå¼è¿›å…¥
      content.forEach((el, i) => {
        const row = Math.floor(i / 3)
        const col = i % 3

        // ä¸åŒç»´åº¦çš„ä¸åŒæ³¢æµªæ¨¡å¼
        const waveModes = [
          { x: (col - 1) * 100, y: row * 80, z: -500 },
          { x: 0, y: 0, z: -1000 - (row * 200), rotation: 30 },
          { x: (col - 1) * 150, y: (row - 1) * 100, rotationY: (col - 1) * 45 },
          { x: 0, y: (row - 1) * 100, rotationX: row * 30, z: -800 },
          { x: (col - 1) * 100, y: (row - 1) * 80, rotationZ: (col - 1) * 30, rotationY: 45 }
        ]

        const waveMode = waveModes[dimension % 5]

        gsap.set(el, {
          ...waveMode,
          opacity: 0,
          scale: 0.3
        })

        const contentTween = gsap.to(el, {
          x: 0,
          y: 0,
          z: 0,
          rotationX: 0,
          rotationY: 0,
          rotationZ: 0,
          opacity: 1,
          scale: 1,
          duration: 1,
          ease: 'back.out(1.7)',
          scrollTrigger: {
            trigger: panel,
            start: 'right left',
            end: 'center center',
            scrub: 1
          }
        })
        multiverseTweens.push(contentTween)
      })

      // ç²’å­/è£…é¥°å…ƒç´ åŠ¨ç”»
      const decorations = panel.querySelectorAll(
        '.orbit, .dimension-core, .data-cube, .data-stream, .matrix-effect, .hologram-effect, .warp-effect, .portal-ring, .portal-core'
      )

      decorations.forEach((deco, i) => {
        const particleTween = gsap.to(deco, {
          scale: (i % 2 === 0) ? 1.5 : 0.5,
          opacity: (i % 2 === 0) ? 0.8 : 0.4,
          rotation: 360,
          duration: 3 + Math.random() * 2,
          repeat: -1,
          yoyo: true,
          ease: 'sine.inOut',
          delay: i * 0.2
        })
        particleTweens.push(particleTween)
      })
    })

    // åˆ›å»ºæ¨ªå‘æ»šåŠ¨åŠ¨ç”» - ä½¿ç”¨ flex å¸ƒå±€æ¨¡å¼
    const containerMoveTween = gsap.to(multiverseContainer, {
      x: () => -(multiverseContainer.scrollWidth - window.innerWidth),
      ease: 'none',
      scrollTrigger: {
        trigger: multiverseContainer,
        pin: true,
        start: 'top top',
        scrub: 1,
        anticipatePin: 1,
        snap: 1 / (panels.length - 1),
        end: () => '+=' + (multiverseContainer.scrollWidth - window.innerWidth),
        onUpdate: (self) => {
          // æ›´æ–°å½“å‰ç»´åº¦æŒ‡ç¤ºå™¨
          const progress = self.progress
          const dimIndex = Math.min(Math.floor(progress * (panels.length - 1)), panels.length - 1)
          currentDimension.value = dimIndex

          // æ ¹æ®æ»šåŠ¨è¿›åº¦è°ƒæ•´ç²’å­é€Ÿåº¦
          const speed = 1 + progress * 4
          particleTweens.forEach(tween => {
            if (tween) tween.timeScale(speed)
          })
        }
      }
    })

    // ä¿å­˜ä¸» ScrollTrigger å¼•ç”¨
    mainScrollTrigger = containerMoveTween.scrollTrigger
    console.log('mainScrollTrigger initialized:', !!mainScrollTrigger)

    multiverseTweens.push(containerMoveTween)

    // åˆ›å»ºå…¨å±€ ScrollTrigger ç”¨äºæ•´ä½“æ§åˆ¶
    const totalWidth = multiverseContainer.scrollWidth - window.innerWidth
    maxScrollValue = totalWidth

    // é˜²æŠ–çš„resizeå¤„ç†
    onScrollResize = createDebouncedFn(() => {
      ScrollTrigger.refresh()
    }, 200, 'multiverse-resize')

    // åˆå§‹åŒ–
    window.addEventListener('resize', onScrollResize)
  })

  return cleanup
}

// è·³è½¬åˆ°æŒ‡å®šç»´åº¦
const jumpToDimension = (index: number) => {
  console.log('jumpToDimension called with index:', index, 'mainScrollTrigger:', !!mainScrollTrigger)

  const panels = document.querySelectorAll('.dimensional-panel')
  if (!panels[index]) return

  const targetElement = panels[index] as HTMLElement
  const multiverseContainer = document.querySelector('.multiverse-container') as HTMLElement

  if (!multiverseContainer) return

  // è®¡ç®—ç›®æ ‡ä½ç½® - ä½¿ç”¨å‚ç›´æ»šåŠ¨æ¥æ§åˆ¶æ¨ªå‘ç§»åŠ¨
  // ScrollTriggerçš„endæ˜¯ multiverseContainer.scrollWidth - window.innerWidth
  const totalPanels = panels.length
  const totalScrollDistance = multiverseContainer.scrollWidth - window.innerWidth
  const scrollPerPanel = totalScrollDistance / (totalPanels - 1)
  const targetScrollPosition = index * scrollPerPanel

  console.log('Jumping to dimension:', index, 'totalScrollDistance:', totalScrollDistance, 'targetScrollPosition:', targetScrollPosition)

  gsap.to(window, {
    duration: 1,
    scrollTo: { y: targetScrollPosition, autoKill: false },
    ease: 'power2.inOut'
  })
}

// è·³è½¬åˆ°ä¸‹ä¸€ç»´åº¦
const nextDimension = () => {
  const panels = document.querySelectorAll('.dimensional-panel')
  const currentIndex = currentDimension.value
  const nextIndex = (currentIndex + 1) % panels.length

  jumpToDimension(nextIndex)
}

// è·³è½¬åˆ°ç¬¬ä¸€ç»´åº¦
const jumpToFirstDimension = () => {
  currentDimension.value = 0
  jumpToDimension(0)
}

onMounted(() => {
  // å¯åŠ¨å¤šç»´æ—¶ç©ºç©¿æ¢­åŠ¨ç”»ï¼ˆå…¨æ–°æ•ˆæœ - èåˆæ— é™å¾ªç¯+ç¼©æ”¾+æ¨ªå‘ï¼‰
  const cleanupMultiverse = multiverseAnimation()

  // å¯¼èˆªæ åŠ¨ç”»
  gsap.from('.navbar', {
    y: -100,
    opacity: 0,
    duration: 1,
    ease: 'power3.out'
  })

  // ç»´åº¦æŒ‡ç¤ºå™¨åŠ¨ç”»
  gsap.from('.dimension-indicator', {
    y: 100,
    opacity: 0,
    duration: 0.8,
    delay: 0.5,
    ease: 'power3.out'
  })

  // æŒ‰é’®æ‚¬åœåŠ¨ç”»
  document.querySelectorAll('.hero-btn, .nav-button, .form-submit, .portal-button').forEach((btn: any) => {
    btn.addEventListener('mouseenter', () => {
      gsap.to(btn, {
        scale: 1.08,
        boxShadow: '0 20px 50px rgba(102, 126, 234, 0.5)',
        duration: 0.3,
        ease: 'back.out(1.7)'
      })
    })
    btn.addEventListener('mouseleave', () => {
      gsap.to(btn, {
        scale: 1,
        boxShadow: '0 10px 30px rgba(102, 126, 234, 0.3)',
        duration: 0.3,
        ease: 'power2.out'
      })
    })
  })

  // å¡ç‰‡æ‚¬åœæ•ˆæœ
  document.querySelectorAll('.matrix-card, .hologram-card, .warp-card').forEach((card: any) => {
    card.addEventListener('mouseenter', () => {
      gsap.to(card, {
        y: -15,
        scale: 1.02,
        duration: 0.4,
        ease: 'power2.out'
      })
    })
    card.addEventListener('mouseleave', () => {
      gsap.to(card, {
        y: 0,
        scale: 1,
        duration: 0.4,
        ease: 'power2.out'
      })
    })
  })
})
</script>

<style scoped lang="scss">
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  overscroll-behavior: none;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: #000;
  color: #fff;
}

.website-container {
  width: 100%;
  min-height: 100vh;
  position: relative;
}

// å¯¼èˆªæ 
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 60px;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(30px);
  border-bottom: 1px solid rgba(102, 126, 234, 0.2);
}

.nav-logo {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 2px;
}

.nav-links {
  display: flex;
  gap: 40px;
}

.nav-link {
  color: #a0aec0;
  text-decoration: none;
  font-size: 16px;
  font-weight: 500;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;

  &::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #667eea, #f093fb);
    transition: width 0.3s ease;
  }

  &:hover {
    color: #fff;

    &::after {
      width: 100%;
    }
  }
}

.nav-button {
  padding: 12px 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 30px;
  color: #fff;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
  transition: all 0.3s ease;
}

// å¤šç»´å®¹å™¨
.multiverse-container {
  position: relative;
  width: 100%;
  height: 100vh;
  display: flex;
  align-items: center;
}

// é€šç”¨åŒºå—
.section {
  position: relative;
  width: 100vw;
  height: 100vh;
  flex-shrink: 0;
  transform-style: preserve-3d;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dimensional-panel {
  perspective: 3000px;
  perspective-origin: 50% 50%;
}

// ç»´åº¦èƒŒæ™¯
.dimension-bg {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
}

.bg-1 {
  background: radial-gradient(ellipse at center, #1a1a2e 0%, #0f0f1a 100%);
}

.bg-2 {
  background: radial-gradient(ellipse at center, #0f3460 0%, #0a0a0f 100%);
}

.bg-3 {
  background: radial-gradient(ellipse at center, #16213e 0%, #0a0a0f 100%);
}

.bg-4 {
  background: radial-gradient(ellipse at center, #1a1a2e 0%, #0f0f1a 100%);
}

.bg-5 {
  background: radial-gradient(ellipse at center, #0f3460 0%, #0a0a0f 100%);
}

// é€šç”¨å®¹å™¨
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 60px;
  position: relative;
  z-index: 1;
}

// ç»´åº¦ä¸€ - é¦–é¡µ
.hero-section {
  flex-direction: column;
}

.hero-content {
  text-align: center;
  z-index: 2;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 12px 30px;
  background: rgba(102, 126, 234, 0.2);
  border: 1px solid rgba(102, 126, 234, 0.4);
  border-radius: 50px;
  margin-bottom: 30px;
  backdrop-filter: blur(10px);
}

.badge-icon {
  font-size: 24px;
}

.badge-text {
  font-size: 15px;
  color: #667eea;
  font-weight: 700;
  letter-spacing: 1px;
}

.hero-title {
  font-size: 80px;
  font-weight: 900;
  line-height: 1.1;
  margin-bottom: 30px;
  background: linear-gradient(135deg, #fff 0%, #a0aec0 50%, #667eea 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -2px;
}

.title-line {
  display: block;
}

.hero-subtitle {
  font-size: 24px;
  color: #a0aec0;
  margin-bottom: 40px;
  line-height: 1.6;
}

.hero-stats {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 50px;
  margin-bottom: 50px;
}

.hero-stat {
  text-align: center;
}

.hero-stat-number {
  font-size: 48px;
  font-weight: 900;
  background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.hero-stat-label {
  font-size: 18px;
  color: #a0aec0;
  margin-top: 5px;
}

.hero-stat-divider {
  width: 2px;
  height: 50px;
  background: linear-gradient(to bottom, transparent, #667eea, transparent);
}

.hero-buttons {
  display: flex;
  gap: 25px;
  justify-content: center;
  margin-bottom: 50px;
}

.hero-btn {
  padding: 18px 45px;
  border: none;
  border-radius: 50px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  letter-spacing: 1px;
}

.hero-btn.primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
}

.hero-btn.secondary {
  background: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: 2px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(10px);
}

.btn-icon {
  margin-right: 8px;
}

.hero-features {
  display: flex;
  gap: 30px;
  justify-content: center;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px 30px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 50px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}

.feature-icon {
  font-size: 22px;
}

.feature-text {
  font-size: 16px;
  font-weight: 700;
  color: #fff;
}

// ç»´åº¦è£…é¥°
.dimension-decoration {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.orbit {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(102, 126, 234, 0.3);
  border-radius: 50%;
}

.orbit-1 {
  width: 400px;
  height: 400px;
}

.orbit-2 {
  width: 600px;
  height: 600px;
}

.orbit-3 {
  width: 800px;
  height: 800px;
}

.dimension-core {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100px;
  height: 100px;
  background: radial-gradient(circle, #667eea 0%, transparent 70%);
  border-radius: 50%;
  animation: pulse 3s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.5);
  }
}

// ç»´åº¦äºŒ - å…³äº
.about-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 100px;
  align-items: center;
}

.about-description {
  font-size: 18px;
  line-height: 1.8;
  color: #a0aec0;
  margin-bottom: 30px;
}

.about-advantages {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 25px;
  margin-bottom: 50px;
}

.advantage-item {
  padding: 25px;
  background: rgba(102, 126, 234, 0.1);
  border-radius: 20px;
  border: 1px solid rgba(102, 126, 234, 0.3);
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);

  &:hover {
    background: rgba(102, 126, 234, 0.15);
    transform: translateY(-5px);
  }
}

.advantage-icon {
  width: 55px;
  height: 55px;
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  margin-bottom: 20px;
}

.adv-emoji {
  font-size: 28px;
}

.advantage-title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 10px;
}

.advantage-desc {
  font-size: 15px;
  color: #a0aec0;
  line-height: 1.6;
}

.about-stats {
  display: flex;
  gap: 50px;
}

.stat-item {
  text-align: center;
}

.stat-number {
  font-size: 56px;
  font-weight: 900;
  background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.stat-label {
  font-size: 36px;
  font-weight: 900;
  color: #667eea;
}

.stat-name {
  font-size: 16px;
  color: #a0aec0;
  margin-top: 10px;
}

.image-wrapper {
  position: relative;
  height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.data-cube {
  width: 200px;
  height: 200px;
  position: relative;
  transform-style: preserve-3d;
  animation: cubeRotate 20s linear infinite;
}

@keyframes cubeRotate {
  from {
    transform: rotateX(0deg) rotateY(0deg);
  }
  to {
    transform: rotateX(360deg) rotateY(360deg);
  }
}

.cube-face {
  position: absolute;
  width: 200px;
  height: 200px;
  background: rgba(102, 126, 234, 0.2);
  border: 2px solid rgba(102, 126, 234, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: 800;
  color: #fff;
  backdrop-filter: blur(10px);
}

.cube-face.front {
  transform: translateZ(100px);
}

.cube-face.back {
  transform: rotateY(180deg) translateZ(100px);
}

.cube-face.right {
  transform: rotateY(90deg) translateZ(100px);
}

.cube-face.left {
  transform: rotateY(-90deg) translateZ(100px);
}

.cube-face.top {
  transform: rotateX(90deg) translateZ(100px);
}

.cube-face.bottom {
  transform: rotateX(-90deg) translateZ(100px);
}

.data-stream {
  position: absolute;
  width: 2px;
  height: 300px;
  background: linear-gradient(to bottom, transparent, #667eea, transparent);
}

.stream-1 {
  left: 20%;
  animation: streamMove 3s ease-in-out infinite;
}

.stream-2 {
  left: 50%;
  animation: streamMove 3s ease-in-out infinite 1s;
}

.stream-3 {
  left: 80%;
  animation: streamMove 3s ease-in-out infinite 2s;
}

@keyframes streamMove {
  0%, 100% {
    transform: translateY(-50px);
    opacity: 0.3;
  }
  50% {
    transform: translateY(50px);
    opacity: 1;
  }
}

// é€šç”¨æ ‡é¢˜
.section-title {
  font-size: 56px;
  font-weight: 900;
  margin-bottom: 20px;
  background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -1px;
}

.section-subtitle {
  font-size: 22px;
  color: #a0aec0;
  margin-bottom: 60px;
}

// ç»´åº¦ä¸‰ - æœåŠ¡
.services-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
}

.service-card {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 24px;
  padding: 45px;
  border: 1px solid rgba(102, 126, 234, 0.3);
  backdrop-filter: blur(20px);
  transition: all 0.4s ease;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
    transition: left 0.6s ease;
  }

  &:hover::before {
    left: 100%;
  }
}

.matrix-effect {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

.service-card:hover .matrix-effect {
  opacity: 1;
}

.service-icon {
  width: 85px;
  height: 85px;
  border-radius: 20px;
  margin-bottom: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.icon-1 {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.icon-2 {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.icon-3 {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.service-title {
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 20px;
}

.service-desc {
  font-size: 17px;
  color: #a0aec0;
  line-height: 1.7;
  margin-bottom: 25px;
}

.service-features {
  list-style: none;
  margin-bottom: 25px;
}

.service-features li {
  font-size: 15px;
  color: #a0aec0;
  padding: 10px 0;
  padding-left: 25px;
  position: relative;

  &::before {
    content: "âœ¦";
    position: absolute;
    left: 0;
    color: #667eea;
    font-weight: bold;
  }
}

.service-link {
  color: #667eea;
  text-decoration: none;
  font-weight: 700;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 8px;

  &:hover {
    color: #f093fb;
    transform: translateX(5px);
  }
}

// ç»´åº¦å›› - æ¡ˆä¾‹
.portfolio-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
}

.portfolio-item {
  position: relative;
  height: 400px;
  border-radius: 24px;
  overflow: hidden;
  cursor: pointer;
  background: linear-gradient(145deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.2) 100%);
  border: 1px solid rgba(102, 126, 234, 0.4);
  transition: all 0.4s ease;
}

.portfolio-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 50px;
  text-align: center;
  opacity: 0;
  transition: all 0.4s ease;
  backdrop-filter: blur(10px);
}

.portfolio-item:hover .portfolio-overlay {
  opacity: 1;
}

.hologram-effect {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(102, 126, 234, 0.03) 2px,
    rgba(102, 126, 234, 0.03) 4px
  );
  pointer-events: none;
  animation: hologramScan 3s linear infinite;
}

@keyframes hologramScan {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 0 100%;
  }
}

.portfolio-tag {
  display: inline-block;
  padding: 8px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 25px;
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 25px;
}

.portfolio-title {
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 20px;
}

.portfolio-desc {
  font-size: 17px;
  color: #a0aec0;
  margin-bottom: 30px;
  line-height: 1.7;
}

.portfolio-meta {
  display: flex;
  gap: 12px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  justify-content: center;
}

.meta-tag {
  padding: 8px 16px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 15px;
  font-size: 14px;
  color: #a0aec0;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.portfolio-btn {
  padding: 14px 35px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 35px;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
  transition: all 0.3s ease;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
  }
}

// ç»´åº¦äº” - è”ç³»
.contact-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 100px;
}

.contact-info {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.info-item {
  display: flex;
  align-items: flex-start;
  gap: 25px;
  padding: 30px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 20px;
  border: 1px solid rgba(102, 126, 234, 0.3);
  transition: all 0.3s ease;
  backdrop-filter: blur(20px);
  position: relative;
  overflow: hidden;

  &:hover {
    background: rgba(102, 126, 234, 0.1);
    transform: translateX(10px);
  }
}

.warp-effect {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(102, 126, 234, 0.05) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.info-item:hover .warp-effect {
  opacity: 1;
}

.info-icon {
  width: 60px;
  height: 60px;
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  flex-shrink: 0;
  font-size: 28px;
}

.info-text h4 {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 10px;
}

.info-text p {
  font-size: 17px;
  color: #a0aec0;
}

.info-sub {
  font-size: 14px;
  color: #718096;
  margin-top: 8px;
  font-family: 'Courier New', monospace;
}

.contact-form {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 28px;
  padding: 55px;
  border: 1px solid rgba(102, 126, 234, 0.3);
  backdrop-filter: blur(20px);
}

.form-header {
  margin-bottom: 35px;
}

.form-header h3 {
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 12px;
}

.form-header p {
  font-size: 15px;
  color: #a0aec0;
}

.form-input {
  width: 100%;
  padding: 20px 28px;
  margin-bottom: 22px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  color: #fff;
  font-size: 17px;
  outline: none;
  transition: all 0.3s ease;
}

.form-input::placeholder {
  color: #a0aec0;
}

.form-input:focus {
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.form-textarea {
  width: 100%;
  padding: 20px 28px;
  margin-bottom: 22px;
  min-height: 160px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  color: #fff;
  font-size: 17px;
  outline: none;
  resize: vertical;
  transition: all 0.3s ease;
}

.form-textarea::placeholder {
  color: #a0aec0;
}

.form-select {
  width: 100%;
  padding: 20px 28px;
  margin-bottom: 22px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 14px;
  color: #fff;
  font-size: 17px;
  outline: none;
  cursor: pointer;
  transition: all 0.3s ease;
}

.form-select:focus {
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.form-select option {
  background: #1a1a2e;
  color: #fff;
}

.submit-icon {
  margin-right: 10px;
}

.form-submit {
  width: 100%;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 14px;
  color: #fff;
  font-size: 19px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
  transition: all 0.3s ease;
  letter-spacing: 1px;
}

.form-submit:hover {
  transform: translateY(-5px);
  box-shadow: 0 20px 50px rgba(102, 126, 234, 0.6);
}

// ä¼ é€é—¨
.warp-portal {
  position: absolute;
  bottom: -100px;
  right: -100px;
  width: 300px;
  height: 300px;
  pointer-events: none;
}

.portal-ring {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 2px solid;
  border-radius: 50%;
}

.ring-1 {
  width: 250px;
  height: 250px;
  border-color: rgba(102, 126, 234, 0.5);
  animation: portalPulse 3s ease-in-out infinite;
}

.ring-2 {
  width: 200px;
  height: 200px;
  border-color: rgba(240, 147, 251, 0.5);
  animation: portalPulse 3s ease-in-out infinite 1s;
}

.ring-3 {
  width: 150px;
  height: 150px;
  border-color: rgba(245, 87, 108, 0.5);
  animation: portalPulse 3s ease-in-out infinite 2s;
}

@keyframes portalPulse {
  0%, 100% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
}

.portal-core {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80px;
  height: 80px;
  background: radial-gradient(circle, #667eea 0%, #f093fb 50%, transparent 70%);
  border-radius: 50%;
  animation: portalRotate 10s linear infinite;
}

@keyframes portalRotate {
  from {
    transform: translate(-50%, -50%) rotate(0deg);
  }
  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

.portal-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 15px 30px;
  background: rgba(0, 0, 0, 0.8);
  border: 2px solid #667eea;
  border-radius: 30px;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  pointer-events: auto;
  z-index: 10;
  transition: all 0.3s ease;

  &:hover {
    background: #667eea;
    transform: translate(-50%, -50%) scale(1.1);
  }
}

// ç»´åº¦æŒ‡ç¤ºå™¨
.dimension-indicator {
  position: fixed;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
  padding: 20px 40px;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(102, 126, 234, 0.3);
  border-radius: 50px;
  backdrop-filter: blur(20px);
}

.indicator-dots {
  display: flex;
  gap: 12px;
}

.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;

  &.active {
    background: #667eea;
    transform: scale(1.3);
    box-shadow: 0 0 20px rgba(102, 126, 234, 0.8);
  }

  &:hover {
    background: rgba(102, 126, 234, 0.6);
  }
}

.indicator-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #a0aec0;
}

.current-dim {
  font-weight: 700;
  color: #fff;
}

.slash {
  opacity: 0.5;
}

.total-dim {
  font-weight: 700;
  color: #667eea;
}

// å“åº”å¼
@media (max-width: 1200px) {
  .container {
    padding: 0 40px;
  }

  .services-grid,
  .portfolio-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 992px) {
  .about-content,
  .contact-content {
    grid-template-columns: 1fr;
    gap: 60px;
  }

  .image-wrapper {
    height: 350px;
  }

  .hero-title {
    font-size: 60px;
  }

  .section-title {
    font-size: 44px;
  }
}

@media (max-width: 768px) {
  .navbar {
    padding: 15px 30px;
  }

  .nav-links {
    display: none;
  }

  .hero-title {
    font-size: 44px;
  }

  .section-title {
    font-size: 36px;
  }

  .services-grid,
  .portfolio-grid {
    grid-template-columns: 1fr;
  }

  .about-stats {
    flex-wrap: wrap;
    justify-content: center;
  }

  .about-advantages {
    grid-template-columns: 1fr;
  }
}
</style>
